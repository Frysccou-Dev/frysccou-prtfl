---
import { getTranslation } from '../../utils/i18n';
const { lang } = Astro.props;

const experienceData = [
  // {
  //   title: getTranslation(lang, 'experience.tokenit'),
  //   company: getTranslation(lang, 'experience.tokenitCompany'),
  //   date: getTranslation(lang, 'experience.tokenitDate'),
  //   desc: getTranslation(lang, 'experience.tokenitDesc'),
  //   isCurrent: true,
  //   icon: '/work/tokenit.jpg',
  // },
  {
    title: getTranslation(lang, 'experience.zatoBox'),
    company: getTranslation(lang, 'experience.zatoBoxCompany'),
    date: getTranslation(lang, 'experience.zatoBoxDate'),
    desc: getTranslation(lang, 'experience.zatoBoxDesc'),
    isCurrent: false,
    icon: '/work/zatobox.jpg',
  },
  {
    title: getTranslation(lang, 'experience.fullStackDev'),
    company: getTranslation(lang, 'experience.dragonPyramid'),
    date: getTranslation(lang, 'experience.dragonPyramidDate'),
    desc: getTranslation(lang, 'experience.dragonPyramidDesc'),
    isCurrent: false,
    icon: '/work/dragon-pyramid.jpg',
  },
  {
    title: getTranslation(lang, 'experience.freelanceFullStack'),
    company: 'Independent',
    date: getTranslation(lang, 'experience.freelanceDate'),
    desc: getTranslation(lang, 'experience.freelanceDesc'),
    isCurrent: true,
    icon: '/work/frysccou-dev.jpg',
  },
];

const educationData = [
  {
    title:
      lang === 'es' ? 'Desarrollo Web y Móvil' : 'Web & Mobile Development',
    institution: 'Instituto Superior Santo Domingo (ISSD)',
    date: lang === 'es' ? 'Marzo 2025 - Presente' : 'March 2025 - Present',
    status: getTranslation(lang, 'home.inProgress'),
    isCompleted: false,
    icon: '/student/issd.png',
    desc:
      lang === 'es'
        ? 'Tecnicatura en Desarrollo Web y Móvil, enfocada en metodologías avanzadas y creación de aplicaciones móviles.'
        : 'Technical Degree in Web & Mobile Development, focusing on advanced development methodologies and mobile application creation.',
  },
  {
    title:
      lang === 'es'
        ? 'Especialización en Frontend Moderno'
        : 'Modern Frontend Specialization',
    institution: 'Codigo Facilito',
    date:
      lang === 'es'
        ? 'Agosto 2025 - Noviembre 2025'
        : 'August 2025 - November 2025',
    status: getTranslation(lang, 'home.completed'),
    isCompleted: true,
    icon: '/student/codigo-facilito.png',
    desc:
      lang === 'es'
        ? 'Profundización en React, Angular y Vue. Enfoque en diferencias clave, mejores prácticas, modularización, renderizado y uso avanzado.'
        : 'Deep dive into mastering React, Angular, and Vue. Focused on key differences, usage, best practices, modularization, and advanced integration.',
  },
  {
    title:
      lang === 'es'
        ? 'Carrera de Desarrollador Full Stack'
        : 'Full Stack Developer Career',
    institution: 'CoderHouse',
    date:
      lang === 'es'
        ? 'Agosto 2024 - Febrero 2025'
        : 'August 2024 - February 2025',
    status: getTranslation(lang, 'home.completed'),
    isCompleted: true,
    icon: '/student/coderhouse.jpg',
    desc:
      lang === 'es'
        ? 'Programa integral de desarrollo Full Stack abarcando tecnologías frontend y backend.'
        : 'Comprehensive Full Stack Development career program covering frontend and backend technologies.',
  },
  {
    title:
      lang === 'es'
        ? 'Desarrollador Full Stack'
        : getTranslation(lang, 'experience.fullStackDev'),
    institution: 'Henry Bootcamp',
    date:
      lang === 'es' ? 'Enero 2025 - Junio 2025' : 'January 2025 - June 2025',
    status: getTranslation(lang, 'home.completed'),
    isCompleted: true,
    icon: '/student/henry.jpg',
    desc:
      lang === 'es'
        ? 'Bootcamp intensivo de desarrollo Full Stack con tecnologías web modernas y trabajo colaborativo.'
        : 'Intensive Full Stack Development bootcamp covering modern web technologies and collaborative development.',
  },
];
---

<section id='experiencia' class='min-h-screen py-20 relative'>
  <div class='max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10'>
    <div class='text-center mb-16'>
      <h2 class='text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6'>
        {getTranslation(lang, 'experience.title')}
      </h2>
      <p class='text-xl text-blue-300 max-w-2xl mx-auto'>
        {getTranslation(lang, 'experience.subtitle')}
      </p>
    </div>

    <div class='flex flex-col gap-16'>
      <div>
        <h3
          class='text-2xl font-bold text-white mb-10 pb-4 border-b border-white/30'
        >
          {getTranslation(lang, 'experience.professionalExp')}
        </h3>

        <div class='relative'>
          <div
            class='absolute left-6 top-0 bottom-0 w-px bg-white/30 hidden sm:block'
          >
          </div>

          <div class='space-y-8'>
            {
              experienceData.map((exp) => (
                <div class='relative flex gap-6 sm:gap-8 group'>
                  <div class='relative z-10 flex-shrink-0'>
                    <div class='w-12 h-12 rounded-full overflow-hidden border-2 border-dark-600 group-hover:border-blue-500 transition-colors duration-300 bg-dark-800'>
                      <img
                        src={exp.icon}
                        alt={exp.company}
                        class='w-full h-full object-cover'
                      />
                    </div>
                  </div>

                  <div class='flex-1 pb-8'>
                    <div class='bg-dark-800 rounded-lg p-5 border border-dark-600 group-hover:border-blue-600/50 transition-all duration-300'>
                      <div class='flex flex-wrap items-start justify-between gap-3 mb-3'>
                        <div>
                          <h4 class='text-lg font-bold text-white'>
                            {exp.title}
                          </h4>
                          <p class='text-blue-400 text-sm font-medium'>
                            {exp.company}
                          </p>
                        </div>
                        <div class='flex items-center gap-2'>
                          {exp.isCurrent && (
                            <span class='inline-flex items-center gap-1.5 text-[10px] font-bold px-2 py-1 rounded-full bg-blue-500/20 text-blue-400 border border-blue-500/30 uppercase'>
                              <span class='w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse' />
                              {getTranslation(lang, 'experience.current')}
                            </span>
                          )}
                          <span class='text-xs px-2 py-1 rounded bg-dark-700 text-blue-300'>
                            {exp.date}
                          </span>
                        </div>
                      </div>
                      <p
                        class='text-sm leading-relaxed'
                        style='color: #a1a1aa;'
                      >
                        {exp.desc}
                      </p>
                    </div>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <div>
        <h3
          class='text-2xl font-bold text-white mb-10 pb-4 border-b border-white/30'
        >
          {getTranslation(lang, 'experience.education')}
        </h3>

        <div class='grid grid-cols-1 sm:grid-cols-2 gap-4'>
          {
            educationData.map((edu) => (
              <div class='bg-dark-800 rounded-lg p-5 border border-dark-600 hover:border-blue-600/50 transition-all duration-300 group'>
                <div class='flex items-start gap-4 mb-4'>
                  <div class='w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-dark-700 border border-dark-600'>
                    <img
                      src={edu.icon}
                      alt={edu.institution}
                      class='w-full h-full object-cover'
                    />
                  </div>
                  <div class='flex-1 min-w-0'>
                    <h4 class='text-base font-bold text-white leading-tight mb-1'>
                      {edu.title}
                    </h4>
                    <p class='text-blue-400 text-xs font-medium truncate'>
                      {edu.institution}
                    </p>
                  </div>
                </div>

                <p class='text-xs leading-relaxed mb-4' style='color: #a1a1aa;'>
                  {edu.desc}
                </p>

                <div class='flex items-center justify-between'>
                  <span class='text-xs text-blue-300/70'>{edu.date}</span>
                  <span
                    class={`text-[9px] font-bold px-2 py-0.5 rounded uppercase ${
                      edu.isCompleted
                        ? 'bg-emerald-500/20 text-emerald-400'
                        : 'bg-amber-500/20 text-amber-400'
                    }`}
                  >
                    {edu.status}
                  </span>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>

    <div class='mt-16 flex justify-center'>
      <div
        class='inline-flex items-center gap-3 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors duration-200'
      >
        <span class='font-medium text-sm'
          >{getTranslation(lang, 'home.readyChallenges')}</span
        >
      </div>
    </div>
  </div>
</section>
